{"file":"geov-toc.entry.esm.js","mappings":"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","names":[],"sources":["node_modules/@geovistory/design-system-web/dist/collection/components/geov-toc/geov-toc.css?tag=geov-toc&encapsulation=shadow","node_modules/@geovistory/design-system-web/dist/collection/components/geov-toc/geov-toc.js"],"sourcesContent":[":host {\n  display: block;\n}\n\n.toc {\n  display: none;\n}\n\n/* lg and up */\n@media screen and (min-width: 1200px) {\n  .toc {\n    display: inline;\n    position: fixed;\n    max-width: 300px;\n    right: 2rem;\n  }\n}\n","import { h, Host } from \"@stencil/core\";\nexport class GeovToc {\n  constructor() {\n    this.indentPx = 16;\n    this.toc = undefined;\n  }\n  componentDidLoad() {\n    console.log('r');\n    this.toc = this.createToc();\n  }\n  render() {\n    return (h(Host, null, this.toc, h(\"slot\", null)));\n  }\n  createToc() {\n    const tocItems = [];\n    if (this.el) {\n      const getHref = (e) => {\n        const id = e === null || e === void 0 ? void 0 : e.getAttribute('id');\n        return id ? `#${id}` : undefined;\n      };\n      const getText = (e) => {\n        return e.textContent;\n      };\n      const scanElement = (element) => {\n        var _a;\n        (_a = element.childNodes) === null || _a === void 0 ? void 0 : _a.forEach(e => {\n          let headingLevel;\n          switch (e.nodeName) {\n            case 'H1':\n              headingLevel = 1;\n              break;\n            case 'H2':\n              headingLevel = 2;\n              break;\n            case 'H3':\n              headingLevel = 3;\n              break;\n            case 'H4':\n              headingLevel = 4;\n              break;\n            case 'H5':\n              headingLevel = 5;\n              break;\n            case 'H6':\n              headingLevel = 6;\n              break;\n          }\n          if (headingLevel !== undefined) {\n            const level = headingLevel - 1;\n            const text = getText(e);\n            const href = getHref(e);\n            const item = this.createTocItem(level, text, href);\n            return tocItems.push(item);\n          }\n          if (e.nodeName === '#text')\n            return;\n          return scanElement(e);\n        });\n      };\n      scanElement(this.el);\n    }\n    return h(\"ion-list\", { class: \"toc\" }, tocItems);\n  }\n  createTocItem(level, text, href) {\n    const inner = h(\"div\", { style: { paddingLeft: `${level * 16}px` } }, text);\n    return href ? (h(\"ion-item\", { href: href, detail: false }, inner, ' ')) : (h(\"ion-item\", null, inner));\n  }\n  static get is() { return \"geov-toc\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"geov-toc.css\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"geov-toc.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"indentPx\": {\n        \"type\": \"number\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"\"\n        },\n        \"attribute\": \"indent-px\",\n        \"reflect\": false,\n        \"defaultValue\": \"16\"\n      }\n    };\n  }\n  static get states() {\n    return {\n      \"toc\": {}\n    };\n  }\n  static get elementRef() { return \"el\"; }\n}\n//# sourceMappingURL=geov-toc.js.map\n"],"version":3}