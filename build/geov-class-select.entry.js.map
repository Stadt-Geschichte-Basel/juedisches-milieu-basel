{"file":"geov-class-select.entry.esm.js","mappings":"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","names":[],"sources":["node_modules/@geovistory/design-system-web/dist/collection/components/geov-class-select/geov-class-select.css?tag=geov-class-select","node_modules/@geovistory/design-system-web/dist/collection/components/geov-class-select/geov-class-select.js"],"sourcesContent":[":host {\n  display: block;\n}\n\n.hide {\n  display: none !important;\n}\n","import { h, Host } from \"@stencil/core\";\n/**\n * This component is a multi-select UI for classes (with label, uri and count).\n */\nexport class GeovClassSelect {\n  constructor() {\n    this.selection = {};\n    // the max length of the list list when this.showAll = false\n    this.maxLength = 6;\n    this.checkedOnInit = true;\n    this.items = undefined;\n    this.loading = undefined;\n    this.showAll = false;\n    this.allToggler = undefined;\n    this.allToggler = !this.checkedOnInit;\n  }\n  /**\n   * Called once just after the component is fully loaded and the first render() occurs.\n   */\n  componentDidLoad() {\n    this.emitSelection();\n  }\n  onItemChange(uri, selected) {\n    const changed = this.selection[uri] !== selected;\n    this.selection[uri] = selected;\n    if (changed)\n      this.emitSelection();\n  }\n  emitSelection() {\n    const selectedClassUris = Object.keys(this.selection).filter(k => this.selection[k] === true);\n    this.selectionChanged.emit({ selectedClassUris });\n  }\n  isChecked(uri) {\n    if (this.selection[uri] !== undefined)\n      return this.selection[uri];\n    this.selection[uri] = this.checkedOnInit;\n    return this.selection[uri];\n  }\n  toggleAll() {\n    var _a;\n    (_a = this.items) === null || _a === void 0 ? void 0 : _a.forEach(i => {\n      this.selection[i.classUri] = this.allToggler;\n    });\n    this.allToggler = !this.allToggler;\n    this.emitSelection();\n  }\n  render() {\n    var _a, _b, _c, _d, _e;\n    return (h(Host, null, h(\"ion-list\", { lines: \"full\" }, h(\"ion-list-header\", null, h(\"ion-label\", null, \"Classes (\", (_b = (_a = this.items) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0, \")\"), ((_c = this.items) === null || _c === void 0 ? void 0 : _c.length) > this.maxLength &&\n      (this.showAll === false ? (h(\"ion-button\", { onClick: () => (this.showAll = true) }, \"Show all\")) : (h(\"ion-button\", { onClick: () => (this.showAll = false) }, \"Show less\")))), h(\"ion-item\", null, h(\"ion-note\", null, \"All Classes\"), h(\"ion-checkbox\", { slot: \"end\", checked: !this.allToggler, onIonChange: _ => this.toggleAll() })), (_d = this.items) === null || _d === void 0 ? void 0 :\n      _d.map((item, index) => (h(\"ion-item\", { class: !this.showAll && index >= this.maxLength ? 'hide' : '' }, h(\"ion-label\", null, item.classLabel), h(\"ion-badge\", { slot: \"end\" }, item.instanceCount), h(\"ion-checkbox\", { slot: \"end\", checked: this.isChecked(item.classUri), onIonChange: event => this.onItemChange(item.classUri, event.detail.checked) })))), !((_e = this.items) === null || _e === void 0 ? void 0 : _e.length) && !this.loading && (h(\"ion-item\", null, h(\"ion-label\", null, \"No class found\"))), this.loading &&\n      ['', '', '', '', ''].map(_ => (h(\"ion-item\", null, h(\"ion-label\", null, h(\"ion-skeleton-text\", { animated: true }))))))));\n  }\n  static get is() { return \"geov-class-select\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"geov-class-select.css\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"geov-class-select.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"checkedOnInit\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If true, the classes are checked on init, else none is checked on init\"\n        },\n        \"attribute\": \"checked-on-init\",\n        \"reflect\": false,\n        \"defaultValue\": \"true\"\n      },\n      \"items\": {\n        \"type\": \"unknown\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"GeovClassSelectItem[]\",\n          \"resolved\": \"GeovClassSelectItem[]\",\n          \"references\": {\n            \"GeovClassSelectItem\": {\n              \"location\": \"local\",\n              \"path\": \"/Users/admin/Gorg/design-system/packages/design-system-web/src/components/geov-class-select/geov-class-select.tsx\",\n              \"id\": \"src/components/geov-class-select/geov-class-select.tsx::GeovClassSelectItem\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"\"\n        }\n      },\n      \"loading\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"\"\n        },\n        \"attribute\": \"loading\",\n        \"reflect\": false\n      }\n    };\n  }\n  static get states() {\n    return {\n      \"showAll\": {},\n      \"allToggler\": {}\n    };\n  }\n  static get events() {\n    return [{\n        \"method\": \"selectionChanged\",\n        \"name\": \"selectionChanged\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"\"\n        },\n        \"complexType\": {\n          \"original\": \"ClassSelectEvent\",\n          \"resolved\": \"ClassSelectEvent\",\n          \"references\": {\n            \"ClassSelectEvent\": {\n              \"location\": \"local\",\n              \"path\": \"/Users/admin/Gorg/design-system/packages/design-system-web/src/components/geov-class-select/geov-class-select.tsx\",\n              \"id\": \"src/components/geov-class-select/geov-class-select.tsx::ClassSelectEvent\"\n            }\n          }\n        }\n      }];\n  }\n}\n//# sourceMappingURL=geov-class-select.js.map\n"],"version":3}